<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Fidelavis</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --gold:#B8924F;
      --gold2:#9E7A3E;
      --bg:#f6efe5;
      --card:#ffffff;
      --ink:#1d1d1d;
      --muted:#6f6f6f;
      --line:rgba(0,0,0,0.06);
      --shadow:0 18px 40px rgba(0,0,0,0.10);
      --shadow2:0 10px 22px rgba(0,0,0,0.10);
      --radius:22px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(900px 380px at 50% -30%, rgba(184,146,79,0.22), transparent 60%),
        var(--bg);
      color:var(--ink);
      text-align:center;
      padding:24px 16px calc(92px + env(safe-area-inset-bottom));
    }

    .wrap{ max-width:460px; margin:0 auto; }

    /* Header (logo trust) */
    .brand{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      margin-top:6px;
      margin-bottom:6px;
    }

    .logoWrap{
      width:116px; height:116px;
      border-radius:28px;
      background:rgba(255,255,255,0.70);
      box-shadow:0 10px 28px rgba(0,0,0,0.08);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.05);
    }

    .logoImg{
      width:100%;
      height:100%;
      object-fit:contain;
      padding:12px;
      display:block;
    }

    .logoFallback{
      width:100%;
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:34px;
      color:var(--gold2);
      letter-spacing:-1px;
    }

    h1{
      margin:6px 0 6px;
      font-size:34px;
      line-height:1.05;
      letter-spacing:-0.6px;
      color:var(--gold2);
      font-weight:800;
    }

    .headline{
      margin:0 0 6px;
      font-size:18px;
      font-weight:900;
      color:#7b633a;
      display:flex;
      justify-content:center;
      gap:10px;
      align-items:center;
    }

    .subline{
      margin:0 0 14px;
      font-size:13px;
      font-weight:700;
      color:#9a8258;
      line-height:1.25;
    }

    .pillrow{
      display:flex;
      justify-content:center;
      gap:8px;
      flex-wrap:wrap;
      margin:0 0 14px;
    }
    .pill{
      font-size:12px;
      font-weight:800;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(255,255,255,0.72);
      border:1px solid var(--line);
      color:#6b5a3a;
    }

    /* Main offer card (single focus) */
    .offerCard{
      background: linear-gradient(135deg, var(--gold), var(--gold2));
      color:#fff;
      border-radius:28px;
      box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,0.10);
      padding:18px 18px 16px;
      text-align:left;
      margin:14px 0 16px;
      position:relative;
      overflow:hidden;
    }

    .offerTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:14px;
    }

    .offerTopLeft{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      font-size:14px;
      letter-spacing:0.2px;
      white-space:nowrap;
    }

    .badge{
      font-size:12px;
      font-weight:900;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(255,255,255,0.18);
      border:1px solid rgba(255,255,255,0.22);
      color:#fff;
      white-space:nowrap;
    }

    .offerRow{
      display:flex;
      gap:14px;
      align-items:flex-start;
    }

    .iconBox{
      width:58px;height:58px;
      border-radius:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:26px;
      flex:0 0 58px;
      background:rgba(255,255,255,0.20);
      border:1px solid rgba(255,255,255,0.22);
      box-shadow:var(--shadow2);
    }

    .big{
      font-size:26px;
      font-weight:900;
      line-height:1.05;
      letter-spacing:-0.4px;
      margin-top:2px;
    }

    .desc{
      margin-top:10px;
      font-size:14px;
      font-weight:700;
      color:rgba(255,255,255,0.92);
      line-height:1.35;
    }

    /* Social proof (credible) */
    .socialProof{
      margin-top:12px;
      background:rgba(255,255,255,0.14);
      border:1px solid rgba(255,255,255,0.18);
      border-radius:16px;
      padding:10px 12px;
      font-size:13px;
      font-weight:900;
      display:flex;
      gap:8px;
      align-items:center;
      color:#fff;
    }

    .facts{
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      font-size:13px;
      font-weight:900;
      color:#fff;
    }

    .fact{
      display:flex;
      gap:8px;
      align-items:center;
      white-space:nowrap;
      opacity:0.95;
    }

    /* Pre-CTA microcopy (reduces friction) */
    .preCta{
      margin-top:14px;
      font-size:13px;
      font-weight:900;
      color:rgba(255,255,255,0.95);
      display:flex;
      gap:8px;
      align-items:center;
    }

    /* CTA */
    .cta{
      margin-top:12px;
      width:100%;
      border:none;
      border-radius:22px;
      padding:16px 14px;
      font-weight:900;
      font-size:17px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      box-shadow:0 14px 30px rgba(0,0,0,0.18);
      background:#fff;
      color:#4e3c1f;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .cta:active{ transform:scale(0.985); }

    .postCta{
      margin-top:10px;
      font-size:12px;
      font-weight:900;
      color:rgba(255,255,255,0.92);
      text-align:center;
      line-height:1.25;
    }

    /* Optional review card (secondary) */
    .reviewCard{
      background:#fff;
      border-radius:24px;
      border:1px solid rgba(184,146,79,0.22);
      box-shadow:0 14px 28px rgba(0,0,0,0.07);
      padding:16px;
      text-align:left;
      margin-bottom:10px;
    }

    .reviewTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }

    .reviewTitle{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      color:var(--gold2);
    }

    .reviewBadge{
      font-size:12px;
      font-weight:900;
      padding:8px 12px;
      border-radius:999px;
      background:#f3e7cf;
      border:1px solid rgba(184,146,79,0.25);
      color:var(--gold2);
    }

    .reviewBody{
      display:flex;
      gap:14px;
      align-items:flex-start;
    }

    .reviewIcon{
      width:58px;height:58px;
      border-radius:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:26px;
      flex:0 0 58px;
      background:#f3e7cf;
      border:1px solid rgba(184,146,79,0.25);
      color:var(--gold2);
      box-shadow:0 10px 22px rgba(0,0,0,0.08);
    }

    .reviewBig{
      font-size:18px;
      font-weight:900;
      color:var(--gold2);
    }

    .reviewDesc{
      margin-top:8px;
      font-size:13px;
      font-weight:700;
      color:#6f6f6f;
      line-height:1.35;
    }

    .cta2{
      margin-top:12px;
      width:100%;
      border-radius:18px;
      padding:14px 14px;
      font-weight:900;
      font-size:15px;
      cursor:pointer;
      border:1px solid rgba(184,146,79,0.35);
      background:linear-gradient(135deg, rgba(184,146,79,0.18), rgba(184,146,79,0.06));
      color:var(--gold2);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .cta2:active{ transform:scale(0.985); }

    .legal{
      max-width:460px;
      margin:12px auto 0;
      font-size:12px;
      color:#8c8c8c;
      line-height:1.35;
      text-align:center;
    }

    /* Sticky bar: smaller + different wording (no confusion) */
    .sticky{
      position:fixed;
      left:0; right:0; bottom:0;
      padding:8px 14px calc(8px + env(safe-area-inset-bottom));
      background:rgba(246,239,229,0.90);
      backdrop-filter: blur(10px);
      border-top:1px solid var(--line);
      z-index:50;
    }
    .stickyInner{
      max-width:460px;
      margin:0 auto;
      display:flex;
      gap:10px;
    }
    .stickyBtn{
      flex:1;
      border:none;
      border-radius:18px;
      padding:12px 10px; /* smaller */
      font-weight:900;
      font-size:15px;
      cursor:pointer;
      display:flex;align-items:center;justify-content:center;
      gap:10px;
      box-shadow:0 12px 26px rgba(0,0,0,0.14);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .primary{
      background:linear-gradient(135deg, var(--gold), var(--gold2));
      color:#fff;
    }
    .secondary{
      background:#fff;
      color:var(--gold2);
      border:1px solid rgba(184,146,79,0.35);
      box-shadow:0 10px 22px rgba(0,0,0,0.10);
    }

    /* Tap feedback */
    .tapFlash{
      position:fixed; inset:0;
      background:rgba(184,146,79,0.14);
      opacity:0;
      pointer-events:none;
      transition:opacity .18s ease;
      z-index:80;
    }
    .tapFlash.on{ opacity:1; }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- Brand / trust -->
    <div class="brand">
      <div class="logoWrap" aria-label="Logo restaurant">
        <img id="logoImg" class="logoImg" src="logo.png" alt="Logo restaurant">
        <div id="logoFallback" class="logoFallback" style="display:none;">R</div>
      </div>
    </div>

    <!-- Nom resto (tu peux changer) -->
    <h1 id="restoName">Resto2</h1>

    <!-- Headline optimis√©e -->
    <div class="headline"><span>üéÅ</span> <span>Votre cadeau vous attend</span></div>
    <div class="subline">Activez maintenant, utilisez √† votre prochaine visite.</div>

    <div class="pillrow">
      <div class="pill">‚è±Ô∏è 10 secondes</div>
      <div class="pill">üîí Aucun engagement</div>
      <div class="pill">üí≥ Pas de carte bancaire</div>
    </div>

    <!-- OFFRE (focus unique) -->
    <section class="offerCard" aria-label="Offre -10%">
      <div class="offerTop">
        <div class="offerTopLeft">üî• Offre du mois <span style="opacity:.92;font-weight:800;">‚Ä¢ Instant par email</span></div>
        <div class="badge">10s</div>
      </div>

      <div class="offerRow">
        <div class="iconBox">üéÅ</div>
        <div style="flex:1; min-width:0;">
          <div class="big">-10% OFFERT (prochaine visite)</div>
          <div class="desc">
            Activez votre remise maintenant et recevez-la imm√©diatement par email.
          </div>

          <!-- Social proof (credible, less risky) -->
          <div class="socialProof">‚≠ê Tr√®s utilis√© aujourd‚Äôhui dans le restaurant</div>

          <div class="facts">
            <div class="fact">‚è±Ô∏è 10 secondes</div>
            <div class="fact">üîí Aucun engagement</div>
            <div class="fact">üóëÔ∏è D√©sinscription 1 clic</div>
          </div>

          <!-- Pre-CTA microcopy -->
          <div class="preCta">‚úÖ Simple : votre remise arrive par email apr√®s validation</div>

          <button class="cta" id="btnOffer" type="button">üéÅ Activer mon -10% maintenant</button>

          <div class="postCta">üì© Aucune carte bancaire ‚Ä¢ Remise envoy√©e imm√©diatement apr√®s validation</div>
        </div>
      </div>
    </section>

    <!-- AVIS (secondaire, optionnel) -->
    <section class="reviewCard" aria-label="Avis facultatif">
      <div class="reviewTop">
        <div class="reviewTitle">‚≠ê Laisser un avis (facultatif)</div>
        <div class="reviewBadge">1 min</div>
      </div>

      <div class="reviewBody">
        <div class="reviewIcon">‚≠ê</div>
        <div style="flex:1; min-width:0;">
          <div class="reviewBig">Un avis aide √©norm√©ment</div>
          <div class="reviewDesc">1 minute ‚Ä¢ am√©liore la visibilit√© du restaurant (sans impact sur votre remise)</div>
          <button class="cta2" id="btnReview" type="button">‚úçÔ∏è Laisser un avis (optionnel)</button>
        </div>
      </div>
    </section>

    <div class="legal">
      La r√©duction est ind√©pendante de tout avis. Laisser un avis est totalement facultatif et n‚Äôinfluence pas l‚Äôavantage propos√©.
    </div>
  </div>

  <div class="tapFlash" id="tapFlash"></div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Auto basePath: "/resto2/" depuis "https://app.cartefidelavis.com/resto2/"
      const parts = window.location.pathname.split("/").filter(Boolean);
      const basePath = parts.length ? `/${parts[0]}/` : "/";

      // ‚úÖ Pages
      const OFFER_URL  = basePath + "redit.html";
      const REVIEW_URL = basePath + "avis.html";

      // Logo fallback (trust)
      const img = document.getElementById("logoImg");
      const fb  = document.getElementById("logoFallback");
      const rn  = document.getElementById("restoName");

      function setFallback(){
        const name = (rn?.textContent || "R").trim();
        fb.textContent = name ? name[0].toUpperCase() : "R";
        fb.style.display = "flex";
        img.style.display = "none";
      }
      if (img) {
        img.addEventListener("error", setFallback);
        // si le logo est vide (rare), fallback aussi
        if (!img.getAttribute("src")) setFallback();
      }

      function flash(){
        const el = document.getElementById('tapFlash');
        el.classList.add('on');
        setTimeout(()=>el.classList.remove('on'), 160);
      }
      function go(url){
        flash();
        setTimeout(()=>{ window.location.href = url; }, 90);
      }

      const map = [
        ["btnOffer", OFFER_URL],
        ["stickyOffer", OFFER_URL],
        ["btnReview", REVIEW_URL],
        ["stickyReview", REVIEW_URL],
      ];

      map.forEach(([id, url]) => {
        const el = document.getElementById(id);
        if (!el) return;
        el.addEventListener("click", () => go(url), { passive: true });
      });
    });
  </script>

  <!-- Sticky bar (compact + wording different) -->
  <div class="sticky">
    <div class="stickyInner">
      <button class="stickyBtn primary" id="stickyOffer" type="button">üéÅ Activer -10%</button>
      <button class="stickyBtn secondary" id="stickyReview" type="button">‚≠ê Avis</button>
    </div>
  </div>
</body>
</html>
